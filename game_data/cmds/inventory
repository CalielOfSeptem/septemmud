inherit command
c = command.new('inventory')
c:SetAliases( { 'inv', 'i' } )

function c:ShowInventory(o)
	--local s = "[" .. r:GetTitle() .. "]\r\n"
	--s = s .. r:GetDescription() .. " "
	local s = ''
	local items = o:GetItems()
	if( #items == 0 ) then
		o:SendToEntity('You are carrying nothing.')
		return true
	end
	
	if( #items > 0 ) then
		--s = s .. "\r\n"
		s = s .. "You are carrying "
	
		for i = 1, #items do
			local iname = items[i]:GetName()
			str = iname
			if i ~= #items then
				str = str .. ', '

			else
				str = str .. '.' 
			end
			s = s .. str
		end
	end
	o:SendToEntity(s)
	return true
end

function c:ExecuteCommand ( o_orig, cmd )

	s_type = o_orig:GetType()
	
	if (s_type:lower() ~= "player" and s_type:lower() ~= "npc") then
		return true;
	end
	
	o = living_cast(o_orig)
	if ( o == nil ) then 
		return true 
	end	
	-- TODO: implement more inventory commands
	self:ShowInventory(o)
	return true
end

function usage(o_orig)
	o_orig:SendToEntity('USAGE: inventory <Implement me later>')
end
